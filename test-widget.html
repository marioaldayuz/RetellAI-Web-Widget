<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test RetellAI Widget - Multiple Configurations</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: white;
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 40px;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .test-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .test-card h3 {
            color: #1e293b;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .test-card p {
            color: #64748b;
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .config-preview {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .config-item {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 14px;
        }
        
        .config-label {
            color: #64748b;
            font-weight: 500;
        }
        
        .config-value {
            color: #1e293b;
            font-family: monospace;
        }
        
        .color-preview {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 4px;
            vertical-align: middle;
            margin-left: 8px;
            border: 1px solid #e2e8f0;
        }
        
        .test-button {
            width: 100%;
            padding: 12px 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .test-button:active {
            transform: translateY(0);
        }
        
        .control-panel {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        
        .control-panel h2 {
            color: #1e293b;
            margin-bottom: 20px;
        }
        
        .control-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .control-button {
            padding: 10px 20px;
            background: #f1f5f9;
            color: #475569;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
        }
        
        .control-button:hover {
            background: #e2e8f0;
            color: #1e293b;
        }
        
        .status {
            margin-top: 20px;
            padding: 15px;
            background: #f0fdf4;
            border: 1px solid #86efac;
            border-radius: 8px;
            color: #166534;
        }
        
        .icon-preview {
            display: inline-block;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🧪 RetellAI Widget Test Suite</h1>
        <p class="subtitle">Test different widget configurations</p>
        
        <div class="control-panel">
            <h2>🎮 Widget Control Panel</h2>
            <div class="control-buttons">
                <button class="control-button" onclick="testConfig('default')">
                    Load Default Config
                </button>
                <button class="control-button" onclick="testConfig('blue')">
                    Load Blue Theme
                </button>
                <button class="control-button" onclick="testConfig('green')">
                    Load Green Theme
                </button>
                <button class="control-button" onclick="testConfig('robot')">
                    Load Robot Assistant
                </button>
                <button class="control-button" onclick="testConfig('support')">
                    Load Support Agent
                </button>
                <button class="control-button" onclick="destroyWidget()">
                    Destroy Widget
                </button>
            </div>
            <div id="status" class="status" style="display: none;"></div>
        </div>
        
        <div class="test-grid">
            <!-- Default Configuration -->
            <div class="test-card">
                <h3>🟣 Default Configuration</h3>
                <p>Standard purple theme with headset icon. Perfect for general use cases.</p>
                <div class="config-preview">
                    <div class="config-item">
                        <span class="config-label">Primary Color:</span>
                        <span class="config-value">
                            #9333ea
                            <span class="color-preview" style="background: #9333ea;"></span>
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Icon:</span>
                        <span class="config-value">
                            <i class="fas fa-headset icon-preview"></i>
                            fa-headset
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Position:</span>
                        <span class="config-value">bottom-right</span>
                    </div>
                </div>
                <button class="test-button" onclick="testConfig('default')">
                    Test Default Config
                </button>
            </div>
            
            <!-- Blue Theme -->
            <div class="test-card">
                <h3>🔵 Blue Professional</h3>
                <p>Clean blue theme for corporate websites and professional services.</p>
                <div class="config-preview">
                    <div class="config-item">
                        <span class="config-label">Primary Color:</span>
                        <span class="config-value">
                            #2563eb
                            <span class="color-preview" style="background: #2563eb;"></span>
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Icon:</span>
                        <span class="config-value">
                            <i class="fas fa-message icon-preview"></i>
                            fa-message
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Position:</span>
                        <span class="config-value">bottom-right</span>
                    </div>
                </div>
                <button class="test-button" onclick="testConfig('blue')">
                    Test Blue Theme
                </button>
            </div>
            
            <!-- Green Theme -->
            <div class="test-card">
                <h3>🟢 Green Support</h3>
                <p>Friendly green theme ideal for customer support and help centers.</p>
                <div class="config-preview">
                    <div class="config-item">
                        <span class="config-label">Primary Color:</span>
                        <span class="config-value">
                            #059669
                            <span class="color-preview" style="background: #059669;"></span>
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Icon:</span>
                        <span class="config-value">
                            <i class="fas fa-comments icon-preview"></i>
                            fa-comments
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Position:</span>
                        <span class="config-value">bottom-left</span>
                    </div>
                </div>
                <button class="test-button" onclick="testConfig('green')">
                    Test Green Theme
                </button>
            </div>
            
            <!-- Robot Assistant -->
            <div class="test-card">
                <h3>🤖 AI Robot Assistant</h3>
                <p>Futuristic theme with robot icon for AI-focused applications.</p>
                <div class="config-preview">
                    <div class="config-item">
                        <span class="config-label">Primary Color:</span>
                        <span class="config-value">
                            #7c3aed
                            <span class="color-preview" style="background: #7c3aed;"></span>
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Icon:</span>
                        <span class="config-value">
                            <i class="fas fa-robot icon-preview"></i>
                            fa-robot
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Message:</span>
                        <span class="config-value">AI Ready to Help!</span>
                    </div>
                </div>
                <button class="test-button" onclick="testConfig('robot')">
                    Test Robot Assistant
                </button>
            </div>
            
            <!-- Support Agent -->
            <div class="test-card">
                <h3>📞 Support Agent</h3>
                <p>Professional support theme with phone icon for call centers.</p>
                <div class="config-preview">
                    <div class="config-item">
                        <span class="config-label">Primary Color:</span>
                        <span class="config-value">
                            #dc2626
                            <span class="color-preview" style="background: #dc2626;"></span>
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Icon:</span>
                        <span class="config-value">
                            <i class="fas fa-phone icon-preview"></i>
                            fa-phone
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Button:</span>
                        <span class="config-value">Call Support</span>
                    </div>
                </div>
                <button class="test-button" onclick="testConfig('support')">
                    Test Support Agent
                </button>
            </div>
            
            <!-- Minimalist -->
            <div class="test-card">
                <h3>⚫ Minimalist Dark</h3>
                <p>Sleek dark theme with microphone icon for modern applications.</p>
                <div class="config-preview">
                    <div class="config-item">
                        <span class="config-label">Primary Color:</span>
                        <span class="config-value">
                            #18181b
                            <span class="color-preview" style="background: #18181b;"></span>
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Icon:</span>
                        <span class="config-value">
                            <i class="fas fa-microphone icon-preview"></i>
                            fa-microphone
                        </span>
                    </div>
                    <div class="config-item">
                        <span class="config-label">Message:</span>
                        <span class="config-value">Speak to start</span>
                    </div>
                </div>
                <button class="test-button" onclick="testConfig('minimal')">
                    Test Minimalist Theme
                </button>
            </div>
        </div>
    </div>
    
    <script type="module">
        import RetellWidget from './src/widget.ts';
        
        let currentWidget = null;
        
        const configs = {
            default: {
                agentId: 'test_agent_123',
                proxyEndpoint: 'http://localhost:3000/api/create-web-call',
                position: 'bottom-right',
                primaryColor: '#9333ea',
                secondaryColor: '#a855f7',
                bubbleIcon: 'fa-headset',
                welcomeMessage: 'How can I help you today?',
                buttonLabel: 'Start Conversation'
            },
            blue: {
                agentId: 'test_agent_123',
                proxyEndpoint: 'http://localhost:3000/api/create-web-call',
                position: 'bottom-right',
                primaryColor: '#2563eb',
                secondaryColor: '#3b82f6',
                bubbleIcon: 'fa-message',
                welcomeMessage: 'Welcome! How may I assist you?',
                buttonLabel: 'Chat with Us'
            },
            green: {
                agentId: 'test_agent_123',
                proxyEndpoint: 'http://localhost:3000/api/create-web-call',
                position: 'bottom-left',
                primaryColor: '#059669',
                secondaryColor: '#10b981',
                bubbleIcon: 'fa-comments',
                welcomeMessage: 'Need help? I\'m here for you!',
                buttonLabel: 'Get Support'
            },
            robot: {
                agentId: 'test_agent_123',
                proxyEndpoint: 'http://localhost:3000/api/create-web-call',
                position: 'bottom-right',
                primaryColor: '#7c3aed',
                secondaryColor: '#8b5cf6',
                bubbleIcon: 'fa-robot',
                welcomeMessage: 'AI Assistant ready to help!',
                buttonLabel: 'Talk to AI'
            },
            support: {
                agentId: 'test_agent_123',
                proxyEndpoint: 'http://localhost:3000/api/create-web-call',
                position: 'bottom-right',
                primaryColor: '#dc2626',
                secondaryColor: '#ef4444',
                bubbleIcon: 'fa-phone',
                welcomeMessage: 'Call our support team',
                buttonLabel: 'Call Support'
            },
            minimal: {
                agentId: 'test_agent_123',
                proxyEndpoint: 'http://localhost:3000/api/create-web-call',
                position: 'bottom-right',
                primaryColor: '#18181b',
                secondaryColor: '#27272a',
                bubbleIcon: 'fa-microphone',
                welcomeMessage: 'Speak to start',
                buttonLabel: 'Start Speaking'
            }
        };
        
        window.testConfig = function(configName) {
            // Destroy existing widget
            if (currentWidget) {
                currentWidget.destroy();
            }
            
            // Create new widget with selected config
            const config = configs[configName];
            currentWidget = new RetellWidget(config);
            
            // Show status
            const statusEl = document.getElementById('status');
            statusEl.style.display = 'block';
            statusEl.innerHTML = `✅ Loaded <strong>${configName}</strong> configuration. Look for the chat bubble!`;
            
            // Auto-hide status after 3 seconds
            setTimeout(() => {
                statusEl.style.display = 'none';
            }, 3000);
        };
        
        window.destroyWidget = function() {
            if (currentWidget) {
                currentWidget.destroy();
                currentWidget = null;
                
                const statusEl = document.getElementById('status');
                statusEl.style.display = 'block';
                statusEl.innerHTML = '🗑️ Widget destroyed';
                
                setTimeout(() => {
                    statusEl.style.display = 'none';
                }, 3000);
            }
        };
        
        // Load default widget on page load
        window.testConfig('default');
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</body>
</html>